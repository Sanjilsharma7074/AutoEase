<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AutoLease - Admin Dashboard</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/admin-fixes.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>

  <!-- NAVBAR -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="nav-logo">
        <a href="/"><i class="fas fa-car"></i> AutoLease</a>
      </div>
      <ul class="nav-menu">
        <li class="nav-item"><a href="/" class="nav-link">Home</a></li>
        <li class="nav-item"><a href="/cars" class="nav-link">Cars</a></li>
        <li class="nav-item" id="bookings-link"><a href="/bookings" class="nav-link">My Bookings</a></li>
        <li class="nav-item" id="admin-link"><a href="/admin" class="nav-link">Admin</a></li>
        <li class="nav-item" id="superadmin-link"><a href="/superadmin" class="nav-link">Super Admin</a></li>
        <li class="nav-item" id="login-link"><a href="/login" class="nav-link">Login</a></li>
        <li class="nav-item" id="signup-link"><a href="/signup" class="nav-link">Sign Up</a></li>
        <li class="nav-item" id="logout-link"><a href="#" class="nav-link" onclick="logout()">Logout</a></li>
      </ul>
      <div class="hamburger">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </div>
    </div>
  </nav>

  <!-- MAIN DASHBOARD -->
  <main class="container">
    <div class="section-header">
      <h2>Admin Dashboard</h2>
      <div class="admin-tabs">
        <button class="tab-button active" onclick="openTab(event,'cars-tab')">Manage Cars</button>
        <button class="tab-button" onclick="openTab(event,'bookings-tab')">All Bookings</button>
      </div>
    </div>

    <!-- MANAGE CARS TAB -->
    <div id="cars-tab" class="tab-content active">
      <div class="section-header">
        <h3>Car Management</h3>
        <div style="display:flex;align-items:center;gap:12px">
          <button class="btn btn-primary btn-small" onclick="openAddCarModal()">Add New Car</button>
        </div>
      </div>
      <div id="adminCarsContainer" class="admin-cars-grid"></div>
    </div>

    <!-- ALL BOOKINGS TAB -->
    <div id="bookings-tab" class="tab-content">
      <div class="section-header">
        <h3>All Bookings</h3>
      </div>
      <div id="adminBookingsContainer" class="admin-bookings-grid"></div>
    </div>
  </main>

  <!-- ADD CAR MODAL -->
  <div id="addCarModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Add New Car</h2>
      <div id="addCarMessage" class="message"></div>
      <form id="addCarForm">
        <div class="form-group">
          <label for="model">Car Model:</label>
          <input type="text" id="model" name="model" required>
        </div>
        <div class="form-group">
          <label for="type">Car Type:</label>
          <select id="type" name="type" required>
            <option value="">Select Type</option>
            <option value="sedan">Sedan</option>
            <option value="suv">SUV</option>
            <option value="hatchback">Hatchback</option>
            <option value="luxury">Luxury</option>
            <option value="coupe">Coupe</option>
            <option value="convertible">Convertible</option>
          </select>
        </div>
        <div class="form-group">
          <label for="pricePerDay">Price Per Day ($):</label>
          <input type="number" id="pricePerDay" name="pricePerDay" min="1" step="0.01" required>
        </div>
        <div class="form-group">
          <label for="imageUrl">Car Image URL:</label>
          <input type="url" id="imageUrl" name="imageUrl" placeholder="Enter image URL">
          <small>Sample images (click to use):</small>
          <div class="sample-images">
            <img src="https://images.unsplash.com/photo-1549924231-f129b911e442?q=80&w=400&auto=format&fit=crop" onclick="document.getElementById('imageUrl').value=this.src">
            <img src="https://images.unsplash.com/photo-1552519507-da3b142c6e3d?q=80&w=400&auto=format&fit=crop" onclick="document.getElementById('imageUrl').value=this.src">
            <img src="https://images.unsplash.com/photo-1583121274602-3e2820c69888?q=80&w=400&auto=format&fit=crop" onclick="document.getElementById('imageUrl').value=this.src">
            <img src="https://images.unsplash.com/photo-1544636331-e26879cd4d9b?q=80&w=400&auto=format&fit=crop" onclick="document.getElementById('imageUrl').value=this.src">
          </div>
        </div>
        <button type="submit" class="btn btn-primary">Add Car</button>
      </form>
    </div>
  </div>

  <footer class="site-footer">&copy; 2025 AutoLease</footer>

  <script src="/js/main.js"></script>
  <script>
    function openTab(e, id){
      document.querySelectorAll('.tab-button').forEach(b=>b.classList.remove('active'));
      e.currentTarget.classList.add('active');
      document.querySelectorAll('.tab-content').forEach(c=>c.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    function openAddCarModal() { 
      document.getElementById('addCarModal').style.display='block'; 
    }
    document.querySelector('.close').onclick = function() { 
      document.getElementById('addCarModal').style.display='none'; 
    }
  </script>
</body>
</html>
